<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MindMate Dashboard â€“ Mood Analytics</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f7fa;
      margin: 0;
      padding: 20px;
    }
    h2 {
      text-align: center;
      color: #333;
    }
    .chart-container {
      max-width: 800px;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    }
  </style>
</head>
<body>

  <h2>ðŸ“Š Mood Trend Analysis</h2>

  <div class="chart-container">
    <canvas id="moodLineChart"></canvas>
  </div>

  <h2 style="margin-top: 50px;">ðŸ¥§ Mood Frequency</h2>
  <div class="chart-container">
    <canvas id="moodPieChart"></canvas>
  </div>

  <script>
  // Receive data from Flask
  const moodDates = { dates ,tojson , safe };
  const moodLabels = { moods ,tojson , safe };
  const moodData = { mood_data , tojson , safe };


  // Line chart â€“ Mood entries over time
  const moodLineCtx = document.getElementById('moodLineChart').getContext('2d');
  new Chart(moodLineCtx, {
    type: 'line',
    data: {
      labels: moodDates,
      datasets: [{
        label: 'Mood Entry Index',
        data: moodLabels.map((_, i) => i + 1),
        borderColor: '#36a2eb',
        backgroundColor: '#e3f2fd',
        fill: true,
        tension: 0.3
      }]
    },
    options: {
      responsive: true,
      scales: {
        x: {
          title: { display: true, text: 'Date' }
        },
        y: {
          beginAtZero: true,
          title: { display: true, text: 'Entry Count' }
        }
      }
    }
  });

  // Pie chart â€“ Mood distribution
  const moodPieCtx = document.getElementById('moodPieChart').getContext('2d');
  new Chart(moodPieCtx, {
    type: 'pie',
    data: {
      labels: Object.keys(moodData),
      datasets: [{
        data: Object.values(moodData),
        backgroundColor: [
          '#4caf50',  // Happy
          '#f44336',  // Sad
          '#ff9800',  // Angry
          '#2196f3',  // Anxious
          '#9c27b0'   // Neutral
        ]
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom'
        }
      }
    }
  });
</script>


</body>
</html>
